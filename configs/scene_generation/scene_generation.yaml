# Milestone 1: Scene Generation Configuration
# OSM → Sionna/Mitsuba Scene Pipeline

scene_generation:
  # City/Region Configuration
  # Scene size: ~500m x 500m (0.005° ≈ 500m at mid-latitudes)
  cities:
    - name: "Boulder, Colorado"
      bounding_box: [-105.280, 40.015, -105.275, 40.020]
    - name: "New York, New York"
      bounding_box: [-73.985, 40.750, -73.980, 40.755]
    - name: "Los Angeles, California"
      bounding_box: [-118.280, 34.050, -118.275, 34.055]
    - name: "Chicago, Illinois"
      bounding_box: [-87.670, 41.875, -87.665, 41.880]
    - name: "Seattle, Washington"
      bounding_box: [-122.360, 47.625, -122.355, 47.630]
    - name: "Austin, Texas"
      bounding_box: [-97.760, 30.275, -97.755, 30.280]
  city:
    name: "Boulder, Colorado"
    bounding_box: [-105.280, 40.015, -105.275, 40.020]  # [min_lon, min_lat, max_lon, max_lat]
    tiles:
      num_tiles: 0
      tile_size_m: 500  # meters per side (~500m x 500m scenes)
      overlap_m: 25  # overlap for edge effects
  
  # OSM Data Extraction
  osm:
    building_types:
      - "building"
      - "residential"
      - "commercial"
      - "industrial"
    road_types:
      - "motorway"
      - "trunk"
      - "primary"
      - "secondary"
      - "tertiary"
      - "residential"
    terrain:
      resolution_m: 2.0  # DEM resolution
      source: "SRTM"  # or "ASTER", "Copernicus"
  
  # Material Domain Randomization (Realistic 4G/5G Urban)
  materials:
    concrete:
      epsilon_r: [5.0, 7.0]  # Typical dry concrete at 2-6 GHz
      sigma: [0.02, 0.05]  # Conductivity [S/m] for dry concrete
      roughness: [0.0, 0.2]  # Smooth to slightly rough
    brick:
      epsilon_r: [4.0, 5.0]  # Dry brick
      sigma: [0.01, 0.03]
      roughness: [0.1, 0.3]
    glass:
      epsilon_r: [6.0, 7.0]  # Window glass
      sigma: [0.0, 0.001]
      roughness: [0.0, 0.05]  # Very smooth
    metal:
      epsilon_r: [1.0, 1.0]
      sigma: [1e6, 1e7]  # Perfect conductor (roofs, facades)
      roughness: [0.0, 0.1]
    asphalt:
      epsilon_r: [3.0, 4.0]  # Dry asphalt roads
      sigma: [0.001, 0.01]
      roughness: [0.1, 0.3]
    ground:
      epsilon_r: [3.0, 5.0]  # Dry ground/soil
      sigma: [0.001, 0.01]
      roughness: [0.2, 0.5]  # Natural terrain roughness
  
  # Base Station (Site) Configuration
  sites:
    placement_strategy: "random"  # "grid", "random", "real_world"
    num_sites_per_tile: 3
    grid_spacing_m: 250
    height_m: 25.0
    height_variation_m: 5.0  # Random variation
    
    antenna:
      type: "PanelArray"
      num_rows: 8
      num_cols: 8
      polarization: "dual"  # "single", "dual", "cross"
      pattern: "38.901"  # 3GPP antenna pattern
      
  # Output Format
  output:
    format: "mitsuba_xml"  # Compatible with Sionna RT
    save_meshes: true
    save_materials: true
    save_metadata: true
    coordinate_system: "UTM"  # or "WGS84"
    
  # Validation
  validation:
    check_site_los: true  # Verify at least some LoS paths
    min_building_height_m: 3.0
    max_building_height_m: 150.0
    visualize: true  # 3D preview in Blender/Mitsuba

# Processing
processing:
  num_workers: 8
  batch_size: 1  # Process 1 tile at a time
  cache_dir: "data/cache"
  log_level: "INFO"
