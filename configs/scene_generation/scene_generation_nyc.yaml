# Scene Generation Configuration - New York (Urban Grid)

scene_generation:
  # City/Region Configuration
  city:
    name: "New York, USA"
    bounding_box: null
    tiles:
      num_tiles: 10
      tile_size_m: 512
      overlap_m: 50

  # OSM Data Extraction
  osm:
    building_types:
      - "building"
      - "residential"
      - "commercial"
      - "industrial"
      - "skyscraper"
    road_types:
      - "motorway"
      - "trunk"
      - "primary"
      - "secondary"
      - "tertiary"
      - "residential"
      - "service"
    terrain:
      resolution_m: 1.0 # Higher resolution for dense urban
      source: "SRTM"

  # Material Domain Randomization
  materials:
    concrete:
      epsilon_r: [6.0, 9.0] # Higher permittivity for dense concrete
      sigma: [0.02, 0.15]
      roughness: [0.1, 0.4]
    brick:
      epsilon_r: [3.5, 5.5]
      sigma: [0.005, 0.05]
      roughness: [0.1, 0.4]
    glass:
      epsilon_r: [6.0, 8.0]
      sigma: [0.0, 0.001]
      roughness: [0.0, 0.1]
    metal:
      epsilon_r: [1.0, 1.0]
      sigma: [1e6, 1e7]
      roughness: [0.0, 0.2]
    wood:
      epsilon_r: [1.5, 3.0]
      sigma: [0.001, 0.01]
      roughness: [0.2, 0.5]

  # Base Station (Site) Configuration
  sites:
    placement_strategy: "grid" # Grid placement for NYC
    num_sites_per_tile: 8 # Denser deployment
    grid_spacing_m: 200
    height_m: 40.0 # Higher antennas for tall buildings
    height_variation_m: 10.0

    antenna:
      type: "PanelArray"
      num_rows: 12
      num_cols: 12 # Larger arrays
      polarization: "dual"
      pattern: "38.901"

  # Output Format
  output:
    format: "mitsuba_xml"
    save_meshes: true
    save_materials: true
    save_metadata: true
    coordinate_system: "UTM"

  # Validation
  validation:
    check_site_los: true
    min_building_height_m: 3.0
    max_building_height_m: 400.0 # Higher max height for skyscrapers
    visualize: false

# Processing
processing:
  num_workers: 8
  batch_size: 1
  cache_dir: "data/cache_nyc" # Separate cache
  log_level: "INFO"
